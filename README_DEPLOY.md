# Инструкции по развертыванию

## Первоначальная сборка и запуск

Для сборки и запуска проекта в первый раз на сервере выполните:

```bash
docker compose build --no-cache --pull
docker compose up -d
```

## Обновление проекта

Для обновления проекта с последними изменениями выполните:

```bash
git pull origin main
docker compose up -d --build
```

## Примечания

- Проект использует многостадийные сборки Docker для фронтенда и бэкенда.
- Dockerfile фронтенда использует `npm ci` с настройками повторных попыток для избежания ошибок разрешения DNS.
- Dockerfile бэкенда устанавливает зависимости отдельно и использует `npm ci --omit=dev` для продакшена.
- Docker Compose включает healthchecks и политики перезапуска для надежности.
- Убедитесь, что Docker и Docker Compose установлены на сервере.
- Сервис бэкенда слушает порт 3000 (отображается на 4000 внешне).
- Сервис фронтенда слушает порт 8080.

При возникновении проблем проверьте логи контейнеров командой:

```bash
docker compose logs -f
```
