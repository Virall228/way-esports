# Инструкция по загрузке и запуску скрипта docker_cleanup_and_build.sh на сервере

## Шаг 1. Загрузка скрипта на сервер

Используйте SCP (если у вас Linux/Mac) или WinSCP (Windows) для передачи файла на сервер.

### SCP (Linux/Mac)

В терминале выполните команду:

```bash
scp path/to/docker_cleanup_and_build.sh user@server_ip:/root/way-esports/
```

Замените `path/to/docker_cleanup_and_build.sh` на путь к файлу на вашем компьютере, `user` — имя пользователя на сервере, `server_ip` — IP-адрес сервера.

### WinSCP (Windows)

1. Откройте WinSCP.
2. Подключитесь к серверу по SFTP.
3. Перейдите в директорию `/root/way-esports`.
4. Перетащите файл `docker_cleanup_and_build.sh` из локальной папки в эту директорию.

## Шаг 2. Подключение к серверу

Подключитесь к серверу по SSH:

```bash
ssh user@server_ip
```

## Шаг 3. Переход в директорию проекта

```bash
cd /root/way-esports
```

## Шаг 4. Сделать скрипт исполняемым

```bash
chmod +x docker_cleanup_and_build.sh
```

## Шаг 5. Запуск скрипта

```bash
./docker_cleanup_and_build.sh
```

## Шаг 6. Проверка статуса контейнеров

```bash
docker compose ps
```

## Шаг 7. Проверка логов контейнеров

```bash
docker compose logs -f
```

---

# Проверка и исправление путей к .env файлам

1. Убедитесь, что в директории `/root/way-esports` есть файлы `.env` и `.env.prod` (если используется).

2. Проверьте, что в файлах `docker-compose.yml` и `docker-compose.prod.yml` пути к env файлам указаны корректно (относительно корня проекта).

3. Если в логах или ошибках упоминаются старые пути, проверьте, нет ли дополнительных docker-compose override файлов или переменных окружения, которые могут переопределять пути.

---

Если хотите, я могу помочь с автоматизацией этих проверок и исправлений. Сообщите, когда будете готовы выполнить эти шаги.
